<ion-header>
    <ion-navbar color="primary">
      <ion-title>{{deal.business_name}}</ion-title>
      <ion-buttons end>
          <button class="white" ion-button clear (click)="share(deal)"><ion-icon name="share"></ion-icon></button>
          <button class="white" ion-button clear *ngIf="!isFavorite()" (click)="favorite()"><ion-icon name="ios-heart-outline"></ion-icon></button>
          <button class="white" ion-button clear *ngIf="isFavorite()" (click)="unFavorite()"><ion-icon name="ios-heart"></ion-icon></button>
      </ion-buttons>
  </ion-navbar>
  </ion-header>
  
  <ion-content no-padding>
    <ion-list>
      <ion-item no-padding no-margin>
          <ion-slides autoplay="500" loop="true" speed="1000" pager="true" paginationType="bullets">
              <ion-slide *ngFor="let image of images">
                <img src="{{image}}" />
              </ion-slide>
            </ion-slides>        
      </ion-item>
      <ion-item no-padding no-margin>
          <h2 class="title">{{deal.title}}</h2>
          <p class="details">{{deal.description}}</p>
      </ion-item>
    </ion-list>

    <ion-list no-padding radio-group [(ngModel)]="childDealId">
      <p>DEALS</p>
      <ion-item no-padding no-margin *ngFor="let obj of deals">
          <ion-row>
              <ion-col col-1>
                  <!--input type="radio" [value]="obj.id"-->
                  <ion-radio value="{{obj.id}}" item-left>{{obj.title}}</ion-radio>
                  <ion-label class="title">{{obj.title}}</ion-label>
              </ion-col>
              <ion-col col-11 align-left>
                  <p class="title">{{obj.title}}</p>
              </ion-col>
          </ion-row>
          <ion-row>
              <ion-col col-1>
              </ion-col>
              <ion-col col-9>
                  <p color="primary">{{(obj.end_date| amFromUnix) | amLocal | amDifference: null :'days'}} days left</p>
              </ion-col>
              <ion-col col-2 *ngIf="obj.deal_amount > 0">
                  <p color="primary">{{obj.deal_amount | currency:'GBP':'symbol':'1.2-2'}}</p>
              </ion-col>
              <ion-col col-2 *ngIf="obj.deal_amount <= 0">
                  <p color="primary">{{obj.percentage}}% off</p>
              </ion-col>
          </ion-row>
          <ion-row>
              <ion-col col-1>
              </ion-col>
              <ion-col col-9>
                  <p class="details">{{obj.redemption_count}}+ Redeemed</p>
              </ion-col>
              <ion-col col-2>
                  <p class="strikethrough" *ngIf="obj.actual_amount > 0">{{obj.actual_amount | currency:'GBP':'symbol':'1.2-2'}}</p>
              </ion-col>
          </ion-row>
          <ion-row>
              <ion-col col-1>
              </ion-col>
              <ion-col col-11>
                  <p class="details">{{obj.description}}</p>
              </ion-col>
          </ion-row>
      </ion-item>
    </ion-list>
  </ion-content>

  <ion-footer>
      <ion-row>
          <ion-col>
              <button no-margin ion-button full round text-center class="customBtn" (click)="navMerchantPage(deal.business_id)">VISIT US</button>
          </ion-col>
          <ion-col>
              <button no-margin ion-button full round text-center class="customBtn" (click)="acceptDeal()">ACCEPT</button>
          </ion-col>
      </ion-row>
  </ion-footer>
  