{"version":3,"sources":["../../src/components/search-bar/layout-1/search-bar-layout-1.module.ts","../../src/pages/deals-list/deals-list.module.ts","../../src/components/search-bar/layout-1/search-bar-layout-1.ts","../../src/pages/deals-list/deals-list.ts","../../src/directives/swipe-segment.directive.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SearchBarLayout1 } from './search-bar-layout-1';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        SearchBarLayout1,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(SearchBarLayout1),\r\n    ],\r\n    exports: [\r\n        SearchBarLayout1\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class SearchBarLayout1Module { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search-bar/layout-1/search-bar-layout-1.module.ts","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DealsListPage } from './deals-list';\nimport { SwipeSegmentDirective } from '../../directives/swipe-segment.directive';\nimport { SearchBarLayout1Module } from '../../components/search-bar/layout-1/search-bar-layout-1.module';\nimport { MomentModule } from 'angular2-moment';\n\n@NgModule({\n  declarations: [\n    DealsListPage,\n    SwipeSegmentDirective\n  ],\n  imports: [\n    IonicPageModule.forChild(DealsListPage),\n    SearchBarLayout1Module,\n    MomentModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class DealsListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/deals-list/deals-list.module.ts","import { Component, Input } from '@angular/core';\r\nimport { IonicPage } from 'ionic-angular';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'search-bar-layout-1',\r\n  templateUrl: 'search-bar.html'\r\n})\r\nexport class SearchBarLayout1 {\r\n  @Input() data: any;\r\n  @Input() events: any;\r\n\r\n  searchTerm: any = \"\";\r\n  allItems: any;\r\n\r\n  constructor() { }\r\n\r\n  getItems(event: any): void {\r\n    if (!this.allItems) {\r\n      this.allItems = this.data.items;\r\n    }\r\n    this.data.items = this.allItems.filter((item) => {\r\n      return item.title.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1;\r\n    });\r\n  }\r\n\r\n  onEvent(event: string, item: any) {//ITEM [EVENT OR SELECTED ITEM]\r\n    if (this.events[event]) {\r\n      if ('onTextChange' === event) {\r\n        this.getItems(item);\r\n        this.events[event](this.searchTerm);\r\n      } else {\r\n        this.events[event](item);\r\n      }\r\n    }\r\n    console.log(event);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search-bar/layout-1/search-bar-layout-1.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { DealsService } from '../../providers/deals-service';\nimport { MerchantService } from '../../providers/merchant-service';\nimport { MapProvider } from '../../providers/map/map';\nimport { Storage } from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  selector: 'page-deals-list',\n  templateUrl: 'deals-list.html',\n})\nexport class DealsListPage {\n  searchTerm: string = '';\n  deals: any = [];\n  merchants: any = [];\n  public category: string = 'Deals';\n  public categories: Array<string> = ['NearMe', 'Deals', 'ExpiredSoon','MyDeals']\n  currentCity: any;\n\n  constructor(public navCtrl: NavController, public dealsService: DealsService, \n              public merchantService: MerchantService, public mapProvider: MapProvider, public storage: Storage) { \n    this.category = 'Deals';\n    this.getCurrentCity();\n    this.onTabChanged('Deals');\n  }\n\n  getCurrentCity() {\n    this.currentCity = \"\";\n    console.log(this.storage.get(\"current_city\"));\n    //if(this.mapProvider.currentLocation()) {\n      this.storage.get(\"current_city\").then((city) => {\n        console.log(\"Current City is \" + city);\n          this.currentCity = city;\n      }).catch((err) => {console.log (\"City name is empty \" + err)});\n    //}\n  }\n\n  openLocationPage() {\n    this.navCtrl.push(\"LocationPage\");\n  }\n\n  getAllDeals() {\n    this.dealsService.getAllDeals(0).then(data => {\n      this.deals = data;\n    });\n  }\n\n  getNearByMerchants() {\n    this.merchantService.getNearByMerchants(0).then(data => {\n      this.merchants = data;\n    });   \n  }\n\n  onTabChanged(tabName) {\n    this.category = tabName;\n\n    switch (this.category) {\n      case 'NearMe':\n        this.getNearByMerchants();\n        break;\n      case 'Deals':\n        this.getAllDeals();\n        break;\n      case 'ExpiredSoon':\n        this.getAllDeals();\n        break;\n      case 'MyDeals':\n        this.getAllDeals();\n        break;\n      default:\n        break;\n    }\n  } // end of onTabChanged\n\n  navMerchantPage(merchant: any){\n    this.navCtrl.push(\"MerchantPage\", {merchant: merchant});\n  }\n\n  navDealPage(deal: any){\n    this.navCtrl.push(\"DealPage\", {deal: deal});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/deals-list/deals-list.ts","import { Directive, ElementRef, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { Gesture } from 'ionic-angular/gestures/gesture';\n\n@Directive({\n    selector: '[swipeSegment]'\n})\n\nexport class SwipeSegmentDirective implements OnInit {\n    el: HTMLElement;\n    swipeGesture: Gesture;\n\n    @Input() tabsList: Array<string> = [];\n    @Input() currentTab: string = '';\n    @Output() tabChanged: EventEmitter<string> = new EventEmitter<string>();\n\n    constructor(public _el: ElementRef) {\n        this.el = _el.nativeElement;\n    }\n\n    ngOnInit() {\n        this.swipeGesture = new Gesture(this.el);\n        this.swipeGesture.listen();\n        this.swipeGesture.on('swipe', (event) => {\n            this.swipeHandler(event);\n        })\n    }\n\n    swipeHandler(event) {\n        if (event.direction == '2') {\n            // move forward\n            const currentIndex = this.tabsList.indexOf(this.currentTab),\n                nextIndex = currentIndex + 1;\n\n            if (nextIndex < this.tabsList.length) {\n                this.currentTab = this.tabsList[nextIndex];\n                this.tabChanged.emit(this.currentTab);\n            }\n        } else if (event.direction == '4') {\n            // move backward\n            const currentIndex = this.tabsList.indexOf(this.currentTab),\n                nextIndex = currentIndex - 1;\n\n            if (nextIndex >= 0) {\n                this.currentTab = this.tabsList[nextIndex];\n                this.tabChanged.emit(this.currentTab);\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/swipe-segment.directive.ts"],"sourceRoot":""}